# MobControl

Плагин для Minecraft сервера на Spigot 1.21+, который позволяет настраивать характеристики мобов (здоровье, урон, шансы спавна).

## Описание

MobControl дает полный контроль над характеристиками мобов на сервере. Вы можете настроить здоровье, урон, шанс спавна заряженных криперов и другие параметры для различных типов мобов через конфигурационный файл.

<img width="1016" height="950" alt="image" src="https://github.com/user-attachments/assets/53472ab2-2850-4cf7-85a6-096e64b246fc" />


## Возможности

- ✅ Настройка здоровья и урона для различных типов мобов
- ✅ Настройка урона от стрел скелетов
- ✅ Настройка урона от ветровых зарядов Breeze
- ✅ Настройка шанса спавна заряженных криперов
- ✅ Поддержка всех популярных мобов
- ✅ Гибкая конфигурация через config.yml
- ✅ Команда перезагрузки конфигурации без перезапуска сервера

## Установка

1. Соберите плагин с помощью Maven:

   ```bash
   mvn clean package
   ```

2. Скопируйте файл `target/MobControl-1.0.0.jar` в папку `plugins` вашего сервера

3. Перезапустите сервер

4. При первом запуске будет создан файл `config.yml` в папке плагина

5. Настройте параметры мобов в `plugins/MobControl/config.yml`

6. Используйте `/mobcontrol reload` для применения изменений без перезапуска

## Конфигурация

Файл `config.yml` находится в папке `plugins/MobControl/`. Пример конфигурации:

```yaml
zombie:
  normal:
    health: 24.0 # Здоровье обычного зомби
    damage: 6.5 # Урон от атаки
  drowned:
    health: 24.0
    damage: 6.5
  husk:
    health: 24.0
    damage: 7.5

skeleton:
  normal:
    health: 20.0
    damage: 4.0
    arrow_damage: 5.0 # Урон от стрел

creeper:
  charged_chance: 0.15 # Шанс 15% спавна заряженного крипера

breeze:
  health: 30.0
  damage: 6.0
  wind_charge_damage: 6.0 # Урон от ветровых зарядов
```

### Поддерживаемые мобы

Плагин поддерживает настройку следующих типов мобов:

- **Зомби**: normal, drowned, villager, husk
- **Скелеты**: normal, stray, wither, bogged
- **Пауки**: обычные и пещерные
- **Криперы**: обычные и заряженные (настраивается шанс)
- **Breeze**: новый моб из 1.21
- И многие другие...

Полный список доступных мобов смотрите в файле `config.yml`.

### Параметры:

- **health** - Максимальное здоровье моба

  - По умолчанию используются стандартные значения Minecraft
  - Можно увеличить для более сложного геймплея

- **damage** - Урон от ближней атаки моба

  - По умолчанию используются стандартные значения Minecraft
  - Можно настроить для баланса сложности

- **arrow_damage** - Урон от стрел (для скелетов)

  - Применяется к стрелам, выпущенным скелетами
  - По умолчанию: стандартные значения Minecraft

- **wind_charge_damage** - Урон от ветровых зарядов Breeze

  - Применяется к ветровым зарядам, выпущенным Breeze
  - По умолчанию: стандартные значения Minecraft

- **charged_chance** - Шанс спавна заряженного крипера (0.0 - 1.0)
  - `0.0` = никогда не спавнятся заряженные криперы
  - `1.0` = всегда спавнятся заряженные криперы
  - `0.15` = 15% шанс (по умолчанию)

## Команды

### `/mobcontrol reload`

Перезагружает конфигурацию плагина без перезапуска сервера.

- **Права**: `mobcontrol.reload` (по умолчанию: `op`)
- **Использование**: `/mobcontrol reload`

## Права доступа

- `mobcontrol.reload` - Право на перезагрузку конфигурации (по умолчанию: `op`)

## Как это работает

1. При спавне моба плагин проверяет его тип

2. Если тип моба настроен в конфигурации:

   - Устанавливается указанное здоровье
   - Устанавливается указанный урон от атаки
   - Для криперов проверяется шанс спавна заряженной версии

3. При атаке мобом:

   - Применяется настроенный урон
   - Для скелетов применяется настроенный урон от стрел
   - Для Breeze применяется настроенный урон от ветровых зарядов

4. Все изменения применяются мгновенно при спавне моба

## Примеры использования

### Увеличение сложности

```yaml
zombie:
  normal:
    health: 30.0 # Увеличиваем здоровье
    damage: 8.0 # Увеличиваем урон
```

### Уменьшение сложности

```yaml
zombie:
  normal:
    health: 15.0 # Уменьшаем здоровье
    damage: 4.0 # Уменьшаем урон
```

### Больше заряженных криперов

```yaml
creeper:
  charged_chance: 0.5 # 50% шанс спавна заряженного крипера
```

## Требования

- **Minecraft**: 1.21+
- **Сервер**: Spigot/Bukkit/Paper
- **Java**: 21+ (для компиляции)

## Сборка

```bash
mvn clean package
```

JAR-файл будет создан в папке `target/`.

## Примечания

- Изменения применяются только к новым мобам, которые спавнятся после загрузки конфигурации
- Уже существующие мобы не изменятся автоматически
- Для применения изменений к существующим мобам используйте `/mobcontrol reload` и перезаспавньте мобов
